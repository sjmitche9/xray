# --- config/config.yaml ---

# dataset config
DATASET:
  ROOT_DIR: "Z:/mimic-cxr-jpg/files"
  METADATA_PATH: "data/mimic-cxr-jpg/mimic-cxr-2.0.0-metadata.csv"
  SPLIT_PATH: "data/mimic-cxr-jpg/mimic-cxr-2.0.0-split.csv"
  OUTPUT_PATH: "data/processed_dataset/subset" # use /subset for testing and debugging (100 images)
  IMAGE_SIZE: 256
  MAX_REPORT_LENGTH: 128
  LIMIT_SAMPLES: 1000  # set to null or a number like 100 for quick tests
  NUM_CPUS: 14

# model config
MODEL:
  DIFFUSION_CHECKPOINT: "checkpoints/diffusion.pt"
  DIFFUSION_RESUME: true
  TOKENIZER_NAME: "emilyalsentzer/Bio_ClinicalBERT"
  LATENT_DIM: 8
  LATENT_H: 32
  LATENT_W: 32
  VAE_CHECKPOINT: "checkpoints/vae.pt"
  VAE_RESUME: true

# training config
TRAINING:
  BATCH_SIZE: 4
  EPOCHS: 50
  LEARNING_RATE: 1e-4
  CONTEXT_DROPOUT_PROB: 0.1
  GUIDANCE_SCALE: 5.0
  EARLY_STOP_PATIENCE: 5

  LR_SCHEDULER:
    TYPE: "ReduceLROnPlateau"
    PATIENCE: 3
    FACTOR: 0.5
    MIN_LR: 1e-6

# logging
WANDB:
  PROJECT: "xray"
  RUN_NAME_VAE: "train_vae"
  RUN_NAME_DIFFUSION: "train_diffusion"